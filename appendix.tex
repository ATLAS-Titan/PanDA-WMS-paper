% -----------------------------------------------------------------------------
\subsection{Abstract}

\input{abstract}


% -----------------------------------------------------------------------------
\subsection{Description}

% -----------------------------------------------------------------------------
\subsubsection{Check-list (artifact meta information)}

{\small
\begin{itemize}
%  \item {\bf Algorithm: }
  \item {\bf Program: ATLAS Monte Carlo Workflow, Geant4, AthenaMP, GROMACS}
%  \item {\bf Compilation: }
%  \item {\bf Transformations: }
%  \item {\bf Binary: }
  \item {\bf Data set: Available at \\ \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/tree/master/data}}
  \item {\bf Run-time environment: PanDA Workload Management System, RADICAL-Pilot Pilot System (NGE)}
  \item {\bf Hardware: OLCF Titan Cray XK7}
%  \item {\bf Run-time state: }
%  \item {\bf Execution: }
  \item {\bf Output: Available at \\ \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/tree/master/data}}
  \item {\bf Experiment workflow: Raw data acquisition, data wrangling and filtering, plotting, analysis}
%  \item {\bf Experiment customization: }
  \item {\bf Publicly available?: Yes}
\end{itemize}
}

% -----------------------------------------------------------------------------
\subsubsection{How software can be obtained (if available)}

\begin{itemize}
    \item PanDA Workload Management System: \\ \url{https://github.com/PanDAWMS}.
    \item RADICAL-Pilot Pilot System (NGE): \\ \url{https://github.com/radical-cybertools}.
\end{itemize}


% -----------------------------------------------------------------------------
\subsubsection{Hardware dependencies}

Access and allocation on OLCF Titan Cray XK7, workstation with at least 8GB of RAM.


% -----------------------------------------------------------------------------
\subsubsection{Software dependencies}

Python, jupyter, pandas, matplotlib, gnuplot, excel.


% -----------------------------------------------------------------------------
\subsubsection{Datasets}

\begin{description}[align=left]
    \item [Section 5.1 -- Figure 3] \url{}
    \item [Section 5.1 -- Figure 4] \url{}
    \item [Section 5.1 -- Figure 5] \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/figure_5}
    \item [Section 5.1 -- Figure 6] \url{}
    \item [Section 5.2 -- Figure 7] \url{}
    \item [Section 5.2 -- Figure 8] \url{}
    \item [Section 5.3 -- Figure 9] \url{}
    \item [Section 6.3 -- Figure 14] \url{}
    \item [Section 6.3 -- Figure 15] \url{}
    \item [Section 6.3 -- Figure 16] \url{}
    \item [Section 6.3 -- Figure 17] \url{}
    \item [Section 6.3 -- Figure 18] \url{}
    \item [Section 6.3 -- Figure 19] \url{}
    \item [Section 6.3 -- Figure 20] \url{}
    \item [Section 6.3 -- Figure 21] \url{}
\end{description}


% -----------------------------------------------------------------------------
\subsection{Installation}

\begin{description}[align=left]
    \item [Section 5.1 -- Figure 3] \url{}
    \item [Section 5.1 -- Figure 4] \url{}
    \item [Section 5.1 -- Figure 5] \url{}
    \item [Section 5.1 -- Figure 6] \url{}
    \item [Section 5.2 -- Figure 7] \url{}
    \item [Section 5.2 -- Figure 8] \url{}
    \item [Section 5.3 -- Figure 9] \url{}
    \item [Section 6.3 -- Figure 14] \url{}
    \item [Section 6.3 -- Figure 15] \url{}
    \item [Section 6.3 -- Figure 16] \url{}
    \item [Section 6.3 -- Figure 17] \url{}
    \item [Section 6.3 -- Figure 18] \url{}
    \item [Section 6.3 -- Figure 19] \url{}
    \item [Section 6.3 -- Figure 20] \url{}
    \item [Section 6.3 -- Figure 21] \url{}
\end{description}


% -----------------------------------------------------------------------------
\subsection{Experiment workflow}

\begin{description}[align=left]
    \item [Section 5.1 -- Figure 3] \url{}
    \item [Section 5.1 -- Figure 4] \url{}
    \item [Section 5.1 -- Figure 5] \url{}
    \item [Section 5.1 -- Figure 6] \url{}
    \item [Section 5.2 -- Figure 7] \url{}
    \item [Section 5.2 -- Figure 8] \url{}
    \item [Section 5.3 -- Figure 9] \url{}
    \item [Section 6.3 -- Figure 14] \url{}
    \item [Section 6.3 -- Figure 15] \url{}
    \item [Section 6.3 -- Figure 16] \url{}
    \item [Section 6.3 -- Figure 17] \url{}
    \item [Section 6.3 -- Figure 18] \url{}
    \item [Section 6.3 -- Figure 19] \url{}
    \item [Section 6.3 -- Figure 20] \url{}
    \item [Section 6.3 -- Figure 21] \url{}
\end{description}


% -----------------------------------------------------------------------------
\subsection{Evaluation and expected result}

\begin{description}[align=left]
    \item [Section 5.1 -- Figure 3] \url{}
    \item [Section 5.1 -- Figure 4] \url{}
    \item [Section 5.1 -- Figure 5] \url{}
    \item [Section 5.1 -- Figure 6] \url{}
    \item [Section 5.2 -- Figure 7] \url{}
    \item [Section 5.2 -- Figure 8] \url{}
    \item [Section 5.3 -- Figure 9] \url{}
    \item [Section 6.3 -- Figure 14] \url{}
    \item [Section 6.3 -- Figure 15] \url{}
    \item [Section 6.3 -- Figure 16] \url{}
    \item [Section 6.3 -- Figure 17] \url{}
    \item [Section 6.3 -- Figure 18] \url{}
    \item [Section 6.3 -- Figure 19] \url{}
    \item [Section 6.3 -- Figure 20] \url{}
    \item [Section 6.3 -- Figure 21] \url{}
\end{description}



% ----------------------------------------------------------------------------- % \subsection{Experiment customization}

% -----------------------------------------------------------------------------
% \subsection{Notes}



% =============================================================================
\section{OLD -- REMOVE AFTER COMPLETING ABOVE}
Reproducibility initiative appendices: Artifact Description (AD) and Computational Results Analysis (CRA). Description of the organization of the appendix.

% -----------------------------------------------------------------------------
\subsection{Section 5.1 - Figure 3}
\label{apndx:fig3}

Artifacts description.

\begin{itemize}
    \item Experiment code: repository address (when applicable)
    \item Raw data: repository address
    \item Wrangling: repository address
    \item Analysis code: repository address
    \item Plotting code: repository address
\end{itemize}

Replicability:

\begin{enumerate}
    \item
\end{enumerate}


% -----------------------------------------------------------------------------
\subsection{Section 5.1 - Figure 4}
\label{apndx:fig4}

Artifacts description.

\begin{itemize}
    \item Experiment code: repository address (when applicable)
    \item Raw data: repository address
    \item Wrangling: repository address
    \item Analysis code: repository address
    \item Plotting code: repository address
\end{itemize}

Replicability:

\begin{enumerate}
    \item
\end{enumerate}


% -----------------------------------------------------------------------------
\subsection{Section 5.1 - Figure 5}
\label{apndx:fig5}

Correlation between backfill availability of cores and walltime on Titan during the experiment time window.

\begin{itemize}
    \item Raw data: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/figure_5/titan_backfill_availability.txt}, as provided by the PanDA Brokers logs on Titan.
    \item Wrangling: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/figure_5/titan_backfill_availability.csv}
    \item Analysis and Plotting: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/figure_5/titan_backfill_availability.ipynb}
\end{itemize}

Replicability:

\begin{enumerate}
    \item Get a log file including regular polling of backfill availability from one or more PanDA Brokers on titan.
    \item Wrangle the ascii file with the find/replace regular expressions listed at: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/figure_5/titan_backfill_availability.ipynb}, cell \#1.
    \item Load the Jupyter workbook from a python virtual environment with the module Jupyter installed and all the modules listed at: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/figure_5/titan_backfill_availability.ipynb}, cell \#2.
    \item Execute each cell of the Jupyter notebook to replicate Figure 5.
\end{enumerate}


% -----------------------------------------------------------------------------
\subsection{Section 5.2 - Figure 6}
\label{apndx:fig6}

Artifacts description.

\begin{itemize}
    \item Experiment code: repository address (when applicable)
    \item Raw data: repository address
    \item Wrangling: repository address
    \item Analysis code: repository address
    \item Plotting code: repository address
\end{itemize}

Replicability:

\begin{enumerate}
    \item
\end{enumerate}


% -----------------------------------------------------------------------------
\subsection{Section 5.2 - Figure 7}
\label{apndx:fig7}

Artifacts description.

\begin{itemize}
    \item Experiment code: repository address (when applicable)
    \item Raw data: repository address
    \item Wrangling: repository address
    \item Analysis code: repository address
    \item Plotting code: repository address
\end{itemize}

Replicability:

\begin{enumerate}
    \item
\end{enumerate}


% -----------------------------------------------------------------------------
\subsection{Section 5.3 - Figure 8}
\label{apndx:fig8}

Panda failures on Titan by exit code during the experiment window.

\begin{itemize}
    \item Raw data: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/figure_8/panda-broker-failures_jan2016-feb2017.csv}
    \item Wrangling: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/figure_8/panda-broker-failures_jan2016-feb2017.xlsx} (Pivot Data \& Wrangled Data tabs)
    \item Analysis: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/figure_8/panda-broker-failures_jan2016-feb2017.xlsx} (Aggregated Data tab)
    \item Plotting: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/figure_8/panda-broker-failures_jan2016-feb2017.xlsx} (Plots tab)
\end{itemize}

Replicability:

\begin{enumerate}
    \item Download raw data download in csv format from the ATLAS jobs dashboard. Download link: \url{http://dashb-atlas-job.cern.ch/dashboard/request.py/terminatedjobsstatuscsv?sites=All%20T3210&sitesCat=All%20Countries&resourcetype=All&pandares=ORNL_Titan_MCORE&activities=simul&sitesSort=7&sitesCatSort=0&start=2016-01-01&end=2017-02-28&timeRange=daily&sortBy=16&granularity=Monthly&generic=0&series=30&type=abcb}
    \item Load the csv file into Excel (or any other software/language).
    \item Create a pivot table with failure types as columns and months as rows.
    \item Aggregate data of error codes of the same type by merge columns and adding the values of their raws according to this table:
    \item Plot the resulting table as a stacked area diagram.
\end{enumerate}


% -----------------------------------------------------------------------------
\subsection{Section \ref{sec:ngeExp} - Figure \ref{fig:weakScal1a}}
\label{apndx:fig9}

\begin{itemize}
    \item Raw data: \url{https://github.com/ATLAS-Titan/misc/tree/master/atlas-paper-experiments/data}
     \item Processed data: \url{ https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/NGE/data.csv} 
    \item Raw data processing: 
    	\begin{itemize}
    		\item Download \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/NGE/dataAnalysis.py}
    		\item Download \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/NGE/script.py}
    		\item Follow instructions at: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/wiki/How-to-extract-data-from-the-sandbox}
   	\end{itemize}
    \item Plotting code: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/NGE/plot.gnu}
\end{itemize}

Replicability: Follow instructions at the following link: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/wiki/How-to-reproduce-experiments-on-TITAN} to prepare the environment on Titan.
Launch:
\begin{itemize}
\item python dispatcher.py 250 250 120 etc/input\_100 to replicate experiments with 250 nodes;
\item python dispatcher.py 500 500 120 etc/input\_100 to replicate experiments with 500 nodes;
\item python dispatcher.py 1000 1000 120 etc/input\_100 to replicate experiments with 1000 nodes;
\item python dispatcher.py 2000 2000 120 etc/input\_100 to replicate experiments with 2000 nodes.
\end{itemize}



% -----------------------------------------------------------------------------
\subsection{Section \ref{sec:ngeExp} - Figure \ref{fig:weakScal2a}}
\label{apndx:fig10}
\begin{itemize}
    \item Raw data: \url{https://github.com/ATLAS-Titan/misc/tree/master/atlas-paper-experiments/weak2}
     \item Processed data: \url{ https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/NGE/weak2.csv} 
    \item Raw data processing: 
    	\begin{itemize}
    		\item Download \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/NGE/dataAnalysis.py}
    		\item Download \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/NGE/script.py}
    		\item Follow instructions at: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/wiki/How-to-extract-data-from-the-sandbox}
   	\end{itemize}
    \item Plotting code: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/NGE/plot.gnu}
\end{itemize}

Replicability: Follow instructions at the following link: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/wiki/How-to-reproduce-experiments-on-TITAN} to prepare the environment on Titan.
Launch:
\begin{itemize}
\item python dispatcher.py 256 1280 256 180 etc/input\_16 to replicate experiments with 256 nodes;
\item python dispatcher.py 512 2560 512 180 etc/input\_16 to replicate experiments with 512 nodes;
\item python dispatcher.py 1024 5120 180 etc/input\_16 to replicate experiments with 1024 nodes;
\item python dispatcher.py 2048 10240 180 etc/input\_16 to replicate experiments with 2048 nodes.
\end{itemize}


% -----------------------------------------------------------------------------
\subsection{Section \ref{sec:ngeExp} - Figure \ref{fig:strongScala}}
\label{apndx:fig16}

\label{apndx:fig10}
\begin{itemize}
    \item Raw data: \url{https://github.com/ATLAS-Titan/misc/tree/master/atlas-paper-experiments/strong}
     \item Processed data: \url{ https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/NGE/strong.csv} 
    \item Raw data processing: 
    	\begin{itemize}
    		\item Download \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/NGE/dataAnalysis.py}
    		\item Download \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/NGE/script.py}
    		\item Follow instructions at: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/wiki/How-to-extract-data-from-the-sandbox}
   	\end{itemize}
    \item Plotting code: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/blob/master/data/NGE/plot.gnu}
\end{itemize}

Replicability: Follow instructions at the following link: \url{https://github.com/ATLAS-Titan/PanDA-WMS-paper/wiki/How-to-reproduce-experiments-on-TITAN} to prepare the environment on Titan.
Launch:
\begin{itemize}
\item python dispatcher.py 256  2048 256 180 etc/input\_16 to replicate experiments with 256 nodes;
\item python dispatcher.py 512 2048 512 180 etc/input\_16 to replicate experiments with 512 nodes;
\item python dispatcher.py 1024 2048 180 etc/input\_16 to replicate experiments with 1024 nodes;
\item python dispatcher.py 2048 2048 180 etc/input\_16 to replicate experiments with 2048 nodes.
\end{itemize}



% -----------------------------------------------------------------------------

